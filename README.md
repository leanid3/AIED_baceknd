# üöÄ AIEN Backend - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

AIEN Backend - —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM (Ollama) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ DDL —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (CSV, JSON, XML) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:
- **API Gateway** (8080) - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **File Service** (8081) - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
- **Data Analysis Service** (8083) - –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é LLM
- **Data Profiler** (50052) - –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Data Transfer** (50053) - –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –≤ —Ü–µ–ª–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
- **Chat Service** (50055) - —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **LLM Service** (50056) - —Ä–∞–±–æ—Ç–∞ —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- **Orchestration Service** (50057) - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- **PostgreSQL** (5432) - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** (6379) - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **MinIO** (9000/9001) - –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Ollama** (11434) - LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Adminer** (8084) - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Docker 20.10+
- Docker Compose 2.0+
- 8GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/your-username/AIEN_backend.git
cd AIEN_backend
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```bash
./start.sh
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
```bash
./start.sh status
```

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### API Endpoints:

#### Health Checks:
```bash
curl http://localhost:8080/health
curl http://localhost:8081/health
curl http://localhost:8083/health
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞:
```bash
curl -X POST -F "file=@data.csv" "http://localhost:8081/api/v1/files/upload?user_id=test-user"
```

#### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö:
```bash
curl -X POST -H "Content-Type: application/json" \
  -d '{"file_id":"file-id","user_id":"user-id","file_path":"path/to/file"}' \
  http://localhost:8083/api/v1/analysis/start
```

#### –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞:
```bash
curl http://localhost:8083/api/v1/analysis/status/analysis-id
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è:
1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `AIEN_Backend_API.postman_collection.json` –≤ Postman
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤–∞—à–∏—Ö —Ñ–∞–π–ª–æ–≤
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `test_data/sales_data.csv` - –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–∂
- `test_data/users.json` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- `test_data/products.xml` - –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã —Å–∫—Ä–∏–ø—Ç–∞:

```bash
./start.sh start     # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./start.sh stop      # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./start.sh restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./start.sh status    # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
./start.sh logs      # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
./start.sh clean     # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
./start.sh help      # –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
- **API Gateway:** http://localhost:8080
- **File Service:** http://localhost:8081
- **Data Analysis:** http://localhost:8083
- **Database Admin:** http://localhost:8084
- **MinIO Console:** http://localhost:9001
- **Ollama:** http://localhost:11434

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `POSTGRES_*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
- `REDIS_*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
- `MINIO_*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MinIO
- `OLLAMA_URL` - URL Ollama —Å–µ—Ä–≤–∏—Å–∞

### –ü–æ—Ä—Ç—ã:
- 8080 - API Gateway
- 8081 - File Service
- 8083 - Data Analysis Service
- 8084 - Adminer
- 5432 - PostgreSQL
- 6379 - Redis
- 9000/9001 - MinIO
- 11434 - Ollama

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏:
```bash
./start.sh logs
```

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
./start.sh status
```

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker-compose -f docker-compose.prod.yml ps
```

## üóÑÔ∏è –î–∞–Ω–Ω—ã–µ

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `data/postgres/` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- `data/minio/` - —Ñ–∞–π–ª—ã MinIO
- `data/ollama/` - –º–æ–¥–µ–ª–∏ Ollama

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
./start.sh clean
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã
lsof -i :8080
lsof -i :8081
lsof -i :8083

# –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Ä—Ç—ã
sudo kill -9 $(lsof -t -i:8080)
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker
sudo systemctl restart docker

# –û—á–∏—Å—Ç–∏—Ç—å Docker
docker system prune -a
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
docker stats

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è Ollama
docker-compose -f docker-compose.prod.yml up -d --scale ollama=0
```

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
AIEN_backend/
‚îú‚îÄ‚îÄ api-geteway/          # API Gateway
‚îú‚îÄ‚îÄ data-profiler/         # Data Profiler
‚îú‚îÄ‚îÄ data-transfer/        # Data Transfer
‚îú‚îÄ‚îÄ file-service/         # File Service
‚îú‚îÄ‚îÄ data-analysis-service/ # Data Analysis
‚îú‚îÄ‚îÄ chat-service/         # Chat Service
‚îú‚îÄ‚îÄ llm-service/          # LLM Service
‚îú‚îÄ‚îÄ orchestration-service/ # Orchestration
‚îú‚îÄ‚îÄ test_data/           # –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ docker-compose.prod.yml # Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ start.sh             # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–µ—Ä–≤–∏—Å–∞
2. –î–æ–±–∞–≤—å—Ç–µ Dockerfile
3. –û–±–Ω–æ–≤–∏—Ç–µ docker-compose.prod.yml
4. –î–æ–±–∞–≤—å—Ç–µ –≤ start.sh

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues:** https://github.com/your-username/AIEN_backend/issues
- **Discussions:** https://github.com/your-username/AIEN_backend/discussions
- **Email:** support@aien.ai

---

**AIEN Backend** - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LLM üöÄ